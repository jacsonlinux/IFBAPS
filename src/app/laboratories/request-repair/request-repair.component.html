<div class="container" *ngIf="showScan; else comment">
  <mat-icon>qr_code_scanner</mat-icon>
  <div class="scanner-shell">
    <zxing-scanner
      #scanner
      [enable]="true"
      [formats]="allowedFormats"
      [(device)]="currentDevice"
      (scanSuccess)="onCodeResult($event)"
      (permissionResponse)="onHasPermission($event)"
      (camerasFound)="onCamerasFound($event)"
      (camerasNotFound)="camerasNotFound($event)"
    ></zxing-scanner>
  </div>
  <p>QR Code scan</p>
</div>

<ng-template #comment>
  <div class="container" *ngIf="!showSpinner; else spinner">
    <form  class="container" [formGroup]="repairForm" novalidate>

      <mat-form-field appearance="outline">
        <mat-label>Comment</mat-label>
        <textarea
          formControlName="comment"
          required
          id="comment"
          matInput>
        </textarea>
      </mat-form-field>

      <mat-checkbox
        formControlName="agree"
        required
        id="agree"
      >I agree with the terms.</mat-checkbox>

      <button mat-stroked-button *ngIf="!repairForm.valid; else btn"
              [disabled]="!repairForm.valid"
              type="button"
      >send</button>

      <ng-template #btn>
        <button
          mat-flat-button color="primary"
          [disabled]="!repairForm.valid"
          (click)="onSubmit()">send</button>
      </ng-template>

    </form>
  </div>
</ng-template>

<ng-template #spinner>
  <div class="container">
    <mat-spinner [diameter]="70" [color]="'primary'" [strokeWidth]="3"></mat-spinner>
  </div>
</ng-template>


<!--<mz-card class="grey darken-4">
  <mz-card-content>
    <form [formGroup]="repairForm" novalidate>
      <mz-textarea-container>
    <textarea mz-textarea
              mz-validation
              required
              formControlName="comment"
              [label]="'Comment'"
              autocomplete="off"
              [errorMessageResource]="errorMessageResources.comment"
              id="comment"></textarea>
      </mz-textarea-container>
      <mz-checkbox-container class="right-align">
        <input required mz-validation mz-checkbox
               id="agree"
               formControlName="agree"
               type="checkbox"
               [filledIn]="true"
               [label]="'I agree with the terms.'">
      </mz-checkbox-container>
      <mz-input-container *ngIf="!repairForm.valid; else btn">
        <button
          mz-button
          [flat]="false"
          [large]="false"
          [float]="false"
          [disabled]="!repairForm.valid"
          type="button"
        >send</button>
      </mz-input-container>
      <ng-template #btn>
        <mz-input-container>
          <button
            class="green white-text"
            mz-button
            [flat]="false"
            [large]="false"
            [float]="false"
            [disabled]="!repairForm.valid"
            (click)="onSubmit()">send</button>
        </mz-input-container>
      </ng-template>
    </form>
  </mz-card-content>
</mz-card>-->
<!--<ng-template #comment>
  <div class="container" *ngIf="!showSpinner; else spinner">
    <mz-card class="grey darken-4">
      <mz-card-content>
        <form [formGroup]="repairForm" novalidate>
          <mz-textarea-container>
          <textarea mz-textarea
                    mz-validation
                    required
                    formControlName="comment"
                    [label]="'Comment'"
                    autocomplete="off"
                    [errorMessageResource]="errorMessageResources.comment"
                    id="comment"></textarea>
          </mz-textarea-container>
          <mz-checkbox-container class="right-align">
            <input required mz-validation mz-checkbox
                   id="agree"
                   formControlName="agree"
                   type="checkbox"
                   [filledIn]="true"
                   [label]="'I agree with the terms.'">
          </mz-checkbox-container>
          <mz-input-container *ngIf="!repairForm.valid; else btn">
            <button
              mz-button
              [flat]="false"
              [large]="false"
              [float]="false"
              [disabled]="!repairForm.valid"
              type="button"
            >send</button>
          </mz-input-container>
          <ng-template #btn>
            <mz-input-container>
              <button
                class="green white-text"
                mz-button
                [flat]="false"
                [large]="false"
                [float]="false"
                [disabled]="!repairForm.valid"
                (click)="onSubmit()">send</button>
            </mz-input-container>
          </ng-template>
        </form>
      </mz-card-content>
    </mz-card>
  </div>
</ng-template>-->
<!--<ng-template #spinner>
  <div class="center-jack-container">
    <mz-spinner
      [color]="'blue'"
      [size]="'medium'">
    </mz-spinner>
  </div>
</ng-template>-->
<!--
<div class="container">
  <mat-icon style="margin-bottom: 30px" >qr_code_scanner</mat-icon>
  <div class="scanner-shell">
    <zxing-scanner
      #scanner
      [(device)]="currentDevice"
      (scanSuccess)="onCodeResult($event)"
      (permissionResponse)="onHasPermission($event)"
      (camerasFound)="onCamerasFound($event)"
      (camerasNotFound)="camerasNotFound($event)"
    ></zxing-scanner>
  </div>
</div>

<section class="results" *ngIf="qrResultString">
  <div>
    <small>Result</small>
    <strong>{{ qrResultString }}</strong>
  </div>
  <button mat-icon-button (click)="clearResult()">&times;</button>
</section>

-->
